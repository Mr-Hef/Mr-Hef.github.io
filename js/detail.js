$(function(){tab(".detail_tab_list li",".detail_tab_con .item");tab(".tab_list li",".tab_con .item");function tab(list,con){$(list).click(function(){$(this).addClass("current").siblings().removeClass("current");var index=$(this).index();$(con).eq(index).show().siblings().hide()})}var mask=document.querySelector(".mask");var big=document.querySelector(".big");$(".preview_img").mouseover(function(){mask.style.display="block";big.style.display="block"});$(".preview_img").mouseout(function(){mask.style.display="none";big.style.display="none"});$(".preview_img").mousemove(function(e){var x=e.pageX-this.offsetLeft;var y=e.pageY-this.offsetTop;var maskX=x-mask.offsetWidth/2;var maskY=y-mask.offsetHeight/2;var maskMax=this.offsetWidth-mask.offsetWidth;if(maskX<=0){maskX=0}else{if(maskX>=maskMax){maskX=maskMax}}if(maskY<=0){maskY=0}else{if(maskY>=maskMax){maskY=maskMax}}mask.style.left=maskX+"px";mask.style.top=maskY+"px";var bigImg=document.querySelector(".bigImg");var bigMaxX=bigImg.offsetWidth-big.offsetWidth;var bigMaxY=bigImg.offsetHeight-big.offsetWidth;var bigX=maskX*bigMaxX/maskMax;var bigY=maskY*bigMaxY/maskMax;bigImg.style.top=-bigY+"px";bigImg.style.left=-bigX+"px"});$("dd a").click(function(e){$(this).addClass("current").siblings().removeClass("current")});$(".list_item li").mouseover(function(event){$(this).addClass("current").siblings().removeClass("current");var path=$(this).children("img").prop("src").split("upload",2)[1];path="upload/"+path;$(".preview_img img").prop("src",path).css("object-fit","cover")});var liWidth=$(".list_item li").outerWidth();$(".arrow_next").click(function(){var left=$(".list_item").position().left;if(left>-($(".list_item li").length-5)*liWidth){$(".list_item").css("left",left-liWidth+"px")}});$(".arrow_pre").click(function(){var left=$(".list_item").position().left;if(left<0){$(".list_item").css("left",left+liWidth+"px")}});$(".add").click(function(){var num=$("#amount").val();num++;$("#amount").val(num)});$(".reduce").click(function(){var num=$("#amount").val();if(num>1){num--;$("#amount").val(num)}})});